{
  "repo": {
    "name": "akeyless-client-commons",
    "source_default_branch": "main"
  },
  "file_name": "emails.ts",
  "source": {
    "file_path": "src/helpers/emails.ts",
    "commit_sha": "844185137ce1390e1c325518f954aaf0e22f09ff",
    "generated_at_iso": "2026-02-15T11:42:40+02:00",
    "language": "ts",
    "framework_tags": ["axios"],
    "link_to_github": "https://github.com/akeyless-client-commons/blob/844185137ce1390e1c325518f954aaf0e22f09ff/src/helpers/emails.ts",
    "link_to_nx_kb": "repos/akeyless-client-commons/docs/helpers/emails.json"
  },
  "summary": {
    "purpose": "Email attachment processing utilities.",
    "problem_solved": "Handles conversion of Blobs and URLs into base64 encoded attachments suitable for sending via email APIs."
  },
  "dependencies": {
    "external": [
      {
        "name": "axios",
        "kind": "runtime",
        "why_used": "Fetches file content from URLs via proxy."
      }
    ],
    "internal": []
  },
  "exports": [
    {
      "name": "EmailAttachment",
      "kind": "interface",
      "description_one_line": "Structure representing an email attachment.",
      "symbol_id": "EmailAttachment"
    },
    {
      "name": "createAttachmentFromBlob",
      "kind": "function",
      "description_one_line": "Converts a Blob to a base64 email attachment object.",
      "symbol_id": "createAttachmentFromBlob"
    },
    {
      "name": "createAttachmentFromUrl",
      "kind": "function",
      "description_one_line": "Downloads a file from a URL and converts it to an attachment.",
      "symbol_id": "createAttachmentFromUrl"
    }
  ],
  "symbols": [
    {
      "symbol_id": "EmailAttachment",
      "name": "EmailAttachment",
      "kind": "interface",
      "description_one_line": "Shape of an email attachment.",
      "details": {
        "what_it_does": "Defines the required fields for an attachment: content (base64), filename, MIME type, and disposition."
      },
      "locations": {
        "source_line_start": 3,
        "source_line_end": 8,
        "github_permalink": "https://github.com/akeyless-client-commons/blob/844185137ce1390e1c325518f954aaf0e22f09ff/src/helpers/emails.ts#L3-L8",
        "nx_kb_anchor": "EmailAttachment"
      }
    },
    {
      "symbol_id": "createAttachmentFromBlob",
      "name": "createAttachmentFromBlob",
      "kind": "function",
      "description_one_line": "Blob to Base64 Attachment conversion.",
      "signature": {
        "params": [
          { "name": "blob", "type": "Blob", "required": true, "description": "File data." },
          { "name": "filename", "type": "string", "required": true, "description": "Name for the attachment." },
          { "name": "mimeType", "type": "string", "required": false, "description": "Override MIME type." },
          { "name": "disposition", "type": "'attachment' | 'inline'", "required": false, "description": "Default is 'attachment'." }
        ],
        "returns": { "type": "Promise<EmailAttachment>", "description": "The attachment object." }
      },
      "details": {
        "what_it_does": "Reads the blob as an ArrayBuffer, converts it to a base64 string (handling both Node.js Buffer and browser btoa), and returns the EmailAttachment object."
      },
      "locations": {
        "source_line_start": 10,
        "source_line_end": 42,
        "github_permalink": "https://github.com/akeyless-client-commons/blob/844185137ce1390e1c325518f954aaf0e22f09ff/src/helpers/emails.ts#L10-L42",
        "nx_kb_anchor": "createAttachmentFromBlob"
      }
    },
     {
      "symbol_id": "createAttachmentFromUrl",
      "name": "createAttachmentFromUrl",
      "kind": "function",
      "description_one_line": "URL to Attachment conversion.",
      "signature": {
        "params": [
          { "name": "url", "type": "string", "required": true, "description": "File URL." },
          { "name": "filename", "type": "string", "required": false, "description": "Optional filename." }
        ],
        "returns": { "type": "Promise<EmailAttachment>", "description": "The attachment object." }
      },
      "details": {
        "what_it_does": "Fetches the file via a local proxy `/api/proxy-file` to bypass potential CORS issues, then converts the response blob to an attachment."
      },
      "locations": {
        "source_line_start": 55,
        "source_line_end": 62,
        "github_permalink": "https://github.com/akeyless-client-commons/blob/844185137ce1390e1c325518f954aaf0e22f09ff/src/helpers/emails.ts#L55-L62",
        "nx_kb_anchor": "createAttachmentFromUrl"
      }
    }
  ],
  "quality": {
    "generation_confidence": "high"
  }
}
