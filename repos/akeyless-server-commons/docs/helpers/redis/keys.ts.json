{
  "repo": {
    "name": "akeyless-server-commons",
    "source_default_branch": "main"
  },
  "file_name": "keys.ts",
  "source": {
    "file_path": "helpers/redis/keys.ts",
    "commit_sha": "fdd501a3d2595ba30c43f5272500f5ccdefa5308",
    "generated_at_iso": "2026-02-18T08:11:51.000Z",
    "language": "ts",
    "framework_tags": ["node", "redis"],
    "link_to_github": "https://github.com/akeyless/akeyless-server-commons/blob/fdd501a3d2595ba30c43f5272500f5ccdefa5308/src/helpers/redis/keys.ts",
    "link_to_nx_kb": "/repos/akeyless-server-commons/docs/helpers/redis/keys.ts"
  },
  "summary": {
    "purpose": "Provides utilities for generating Redis key and channel names, and for scanning all keys matching a given pattern.",
    "problem_solved": "Standardises Redis key naming conventions (using ':' as separator) and provides a cursor-based SCAN implementation to safely iterate over large key sets."
  },
  "dependencies": {
    "external": [
      {
        "name": "ioredis",
        "kind": "runtime",
        "why_used": "Provides the Redis type used in scan_redis_keys parameter."
      }
    ],
    "internal": []
  },
  "exports": [
    {
      "name": "get_redis_key",
      "kind": "function",
      "description_one_line": "Generates a Redis key string by joining parts with ':'.",
      "symbol_id": "get_redis_key"
    },
    {
      "name": "get_redis_channel",
      "kind": "function",
      "description_one_line": "Generates a Redis channel name string by joining parts with ':'.",
      "symbol_id": "get_redis_channel"
    },
    {
      "name": "scan_redis_keys",
      "kind": "function",
      "description_one_line": "Scans all Redis keys matching a pattern using cursor-based SCAN.",
      "symbol_id": "scan_redis_keys"
    }
  ],
  "symbols": [
    {
      "symbol_id": "get_redis_key",
      "name": "get_redis_key",
      "kind": "function",
      "description_one_line": "Generates a Redis key string by joining parts with ':'.",
      "signature": {
        "params": [{"name": "...parts", "type": "string[]", "required": true, "description": "Key parts to join with ':'."}],
        "returns": {"type": "string", "description": "Redis key string in the format 'part1:part2:...'"}
      },
      "details": {"what_it_does": "Joins the provided string parts with ':' to form a namespaced Redis key."},
      "examples": {
        "minimal_correct": {"title": "Generate a Redis key", "code": "get_redis_key('nx-devices', 'device123', 'status');\n// => 'nx-devices:device123:status'"}
      },
      "locations": {"source_line_start": 3, "source_line_end": 5, "github_permalink": "https://github.com/akeyless/akeyless-server-commons/blob/fdd501a3d2595ba30c43f5272500f5ccdefa5308/src/helpers/redis/keys.ts#L3", "nx_kb_anchor": "get_redis_key"}
    },
    {
      "symbol_id": "get_redis_channel",
      "name": "get_redis_channel",
      "kind": "function",
      "description_one_line": "Generates a Redis channel name string by joining parts with ':'.",
      "signature": {
        "params": [{"name": "...parts", "type": "string[]", "required": true, "description": "Channel name parts to join with ':'."}],
        "returns": {"type": "string", "description": "Redis channel name string in the format 'part1:part2:...'"}
      },
      "details": {"what_it_does": "Identical to get_redis_key but semantically used for pub/sub channel names."},
      "examples": {
        "minimal_correct": {"title": "Generate a Redis channel name", "code": "get_redis_channel('nx-devices', 'updates');\n// => 'nx-devices:updates'"}
      },
      "locations": {"source_line_start": 7, "source_line_end": 9, "github_permalink": "https://github.com/akeyless/akeyless-server-commons/blob/fdd501a3d2595ba30c43f5272500f5ccdefa5308/src/helpers/redis/keys.ts#L7", "nx_kb_anchor": "get_redis_channel"}
    },
    {
      "symbol_id": "scan_redis_keys",
      "name": "scan_redis_keys",
      "kind": "function",
      "description_one_line": "Scans all Redis keys matching a pattern using cursor-based SCAN.",
      "signature": {
        "params": [
          {"name": "commander", "type": "Redis", "required": true, "description": "The ioredis commander client to use for scanning."},
          {"name": "pattern", "type": "string", "required": true, "description": "The glob pattern to match keys against (e.g., 'nx-devices:*')."}
        ],
        "returns": {"type": "Promise<string[]>", "description": "Array of all matching Redis key strings."}
      },
      "details": {
        "what_it_does": "Iterates through Redis keys using cursor-based SCAN with COUNT 100, collecting all keys matching the pattern. Continues until cursor returns to '0' (full scan complete). This is safe for large datasets as it does not block Redis."
      },
      "examples": {
        "minimal_correct": {"title": "Scan all device keys", "code": "const commander = get_redis_commander();\nconst keys = await scan_redis_keys(commander, 'nx-devices:*');"}
      },
      "locations": {"source_line_start": 11, "source_line_end": 29, "github_permalink": "https://github.com/akeyless/akeyless-server-commons/blob/fdd501a3d2595ba30c43f5272500f5ccdefa5308/src/helpers/redis/keys.ts#L11", "nx_kb_anchor": "scan_redis_keys"}
    }
  ],
  "quality": {
    "generation_confidence": "high",
    "known_gaps": []
  }
}
