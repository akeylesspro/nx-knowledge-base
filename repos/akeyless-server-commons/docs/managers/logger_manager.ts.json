{
    "repo": {
        "name": "akeyless-server-commons",
        "source_default_branch": "main"
    },
    "file_name": "logger_manager.ts",
    "source": {
        "file_path": "managers/logger_manager.ts",
        "commit_sha": "720e8b90aaf64dfc60e48e6c68287688bd79409a",
        "generated_at_iso": "2026-02-12T00:00:00.000Z",
        "language": "ts",
        "framework_tags": ["node"],
        "link_to_github": "https://github.com/akeylesspro/akeyless-server-commons/blob/720e8b90aaf64dfc60e48e6c68287688bd79409a/src/managers/logger_manager.ts",
        "link_to_nx_kb": "/repos/akeyless-server-commons/docs/managers/logger_manager.ts.json"
    },
    "summary": {
        "purpose": "Provides a singleton logger that outputs timestamped log, error, and warning messages to the console with Israel timezone formatting and special handling for Axios errors and tabular data.",
        "problem_solved": "Centralizes application logging with consistent timestamp formatting (Asia/Jerusalem timezone), intelligent data serialization (console.table for array data outside Kubernetes, JSON.stringify otherwise), and structured Axios error reporting."
    },
    "dependencies": {
        "external": [
            {
                "module": "moment-timezone",
                "imported_names": ["moment_timezone"],
                "purpose": "Formats timestamps in the Asia/Jerusalem timezone for log output"
            },
            {
                "module": "akeyless-types-commons",
                "imported_names": ["TObject"],
                "purpose": "Provides generic object type used in the log method's data parameter"
            },
            {
                "module": "axios",
                "imported_names": ["axios"],
                "purpose": "Used to detect Axios errors via axios.isAxiosError() for specialized error formatting"
            },
            {
                "module": "lodash",
                "imported_names": ["isObject"],
                "purpose": "Checks whether log data is an object to decide serialization strategy"
            }
        ],
        "internal": [
            {
                "module": "../helpers",
                "imported_names": ["parse_error"],
                "purpose": "Parses error objects into a serializable format before logging",
                "link_to_nx_kb": "/repos/akeyless-server-commons/docs/helpers/index.ts.json",
                "link_to_github": "https://github.com/akeylesspro/akeyless-server-commons/blob/720e8b90aaf64dfc60e48e6c68287688bd79409a/src/helpers/index.ts"
            }
        ]
    },
    "exports": [
        {
            "name": "logger",
            "kind": "variable",
            "description_one_line": "Pre-instantiated singleton instance of LoggerManager for application-wide logging"
        }
    ],
    "symbols": [
        {
            "symbol_id": "class_logger_manager",
            "name": "LoggerManager",
            "kind": "class",
            "description_one_line": "Singleton logger class providing timestamped log, error, and warn methods with intelligent data formatting",
            "details": {
                "what_it_does": "Implements a singleton logger that prepends Asia/Jerusalem timestamps to all console output. The log() method intelligently formats data: when not running in Kubernetes and data is an array of flat objects, it uses console.table for readable tabular output; otherwise it JSON-serializes the data. The error() method has special handling for Axios errors, extracting the message and response data. The warn() method outputs warnings with JSON-serialized data. All methods use the private get_date() helper for consistent timestamp formatting.",
                "methods": [
                    {
                        "name": "getInstance",
                        "description_one_line": "Returns the singleton LoggerManager instance, creating it if it does not yet exist",
                        "signature": {
                            "params": [],
                            "returns": "LoggerManager"
                        }
                    },
                    {
                        "name": "get_date",
                        "description_one_line": "Returns the current date/time formatted as DD/MM/YYYY HH:mm:ss.SS in Asia/Jerusalem timezone",
                        "signature": {
                            "params": [],
                            "returns": "string"
                        }
                    },
                    {
                        "name": "log",
                        "description_one_line": "Logs a message with optional data, using console.table for flat object arrays outside Kubernetes or JSON.stringify otherwise",
                        "signature": {
                            "params": [
                                { "name": "msg", "type": "string" },
                                { "name": "data", "type": "TObject<any> | any[]", "optional": true }
                            ],
                            "returns": "void"
                        }
                    },
                    {
                        "name": "error",
                        "description_one_line": "Logs an error message with special handling for Axios errors, serializing other errors via parse_error",
                        "signature": {
                            "params": [
                                { "name": "msg", "type": "string" },
                                { "name": "data", "type": "any", "optional": true }
                            ],
                            "returns": "void"
                        }
                    },
                    {
                        "name": "warn",
                        "description_one_line": "Logs a warning message with optional JSON-serialized data",
                        "signature": {
                            "params": [
                                { "name": "msg", "type": "string" },
                                { "name": "data", "type": "any", "optional": true }
                            ],
                            "returns": "void"
                        }
                    }
                ],
                "side_effects": [
                    "Writes to stdout via console.log and console.table",
                    "Writes to stderr via console.error and console.warn"
                ],
                "error_cases": []
            },
            "examples": {
                "minimal_correct": "import { logger } from 'akeyless-server-commons';\n\n// Simple message\nlogger.log('Server started');\n\n// Log with data object\nlogger.log('Request received', { method: 'GET', path: '/api/users' });\n\n// Log with array data (will use console.table when not in Kubernetes)\nlogger.log('Users', [{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }]);\n\n// Log an error\nlogger.error('Failed to fetch', new Error('Network timeout'));\n\n// Log a warning\nlogger.warn('Deprecated endpoint used', { endpoint: '/api/v1/old' });"
            },
            "locations": {
                "source_line_start": 7,
                "source_line_end": 55,
                "github_permalink": "https://github.com/akeylesspro/akeyless-server-commons/blob/720e8b90aaf64dfc60e48e6c68287688bd79409a/src/managers/logger_manager.ts#L7-L55",
                "nx_kb_anchor": "#class_logger_manager"
            }
        },
        {
            "symbol_id": "variable_logger",
            "name": "logger",
            "kind": "variable",
            "description_one_line": "Pre-instantiated singleton instance of LoggerManager, ready for direct import and use across the application",
            "signature": {
                "params": [],
                "returns": "LoggerManager"
            },
            "details": {
                "what_it_does": "Calls LoggerManager.getInstance() at module load time to create and export the singleton instance. This is the primary export of the module -- consumers should import this variable directly rather than accessing the LoggerManager class (which is not exported)."
            },
            "locations": {
                "source_line_start": 57,
                "source_line_end": 57,
                "github_permalink": "https://github.com/akeylesspro/akeyless-server-commons/blob/720e8b90aaf64dfc60e48e6c68287688bd79409a/src/managers/logger_manager.ts#L57",
                "nx_kb_anchor": "#variable_logger"
            }
        }
    ],
    "quality": {
        "generation_confidence": "high",
        "known_gaps": [
            "LoggerManager class itself is not exported, only the singleton instance; consumers cannot extend or subclass it"
        ]
    }
}
