אתה סוכן תכנון/ארכיטקטורה (AI Agent) שתפקידו לבנות לי תוכנית עבודה לבניית “KB Repository” מרכזי שמכיל תיעוד לכל ה-Repositories שלי, עם UI אנושי וגם נגישות לסוכני AI.

========================
1) הקשר ורקע
========================
- יש לי כמה GitHub Repositories שמכילים את כל הפרויקטים שלי.
- סוגי פרויקטים: Node.js servers, React / Next.js / Vue web apps.
- כל הפרויקטים משתמשים גם ב-TypeScript (TS).

========================
2) המטרה
========================
ליצור Repository חדש בשם "KB" שישמש בסיס ידע ארגוני:
- בתוך KB תהיה תיקייה לכל Repository קיים (לפי שם ה-Repo).
- בכל תיקייה יישמר התיעוד של אותו Repo.
- ה-KB עצמו יהיה פרויקט Next.js + TypeScript, כדי:
  1) להציג תיעוד ב-UI לבני אדם
  2) להנגיש תיעוד בצורה מובנית לסוכני AI (Machine-readable)

התוצר שאתה צריך לתת לי: תוכנית עבודה ברורה עם משימות, אבני דרך, והחלטות טכניות מומלצות “בצורה הטובה ביותר”.

========================
3) דרישות תיעוד (Documentation Rules)
========================
לכל Repo מתועד:
A) מבנה תיקיות
- תהיה תיקייה בשם docs שתהווה “מראה” לתיקיית src.
- כלומר: לכל קובץ קוד תחת src יהיה קובץ תיעוד תואם תחת docs באותו נתיב יחסי.
- מותר לפצל לתיעוד 2 קבצים לכל קובץ קוד אם זה משפר:
  - (1) קריאות ב-UI לבני אדם
  - (2) צריכה ע"י סוכני AI

B) שלושת רכיבי התיעוד
1) Project-level summary:
   - Summary רחב (מפורט)
   - Summary קצר (תמציתי)
2) File-level documentation:
   - תיעוד לכל קובץ קוד (מפורט בהמשך)
3) API Documentation:
   - אם זה Node.js או Next.js עם endpoints: חייבים גם Swagger שמציג את כל הניתובים.

========================
4) דרישות לתוכן של קבצי תיעוד לכל קובץ (Documentation Files Spec)
========================
כל קובץ תיעוד חייב לכלול:

(1) סיכום ברור: מה יש בקובץ ועל איזה צורך/בעיה הוא עונה.
(2) Dependencies:
    - פירוט התלויות של הקובץ + הסבר קצר על כל תלות.
    - לכל תלות “פנימית” (מתוך אותו Repo או Repo אחר שלי בתוך KB):
      שם התלות חייב להיות לחיץ ב-UI ולפתוח טאאב חדש לקובץ המקור שלה (deep link).
(3) רשימת סמלים (Symbols) בקובץ:
    - כל functions / classes / components
    - וגם variables רק אם הם global ברמת הקובץ.
(4) Exports:
    - רשימת כל מה שהקובץ מייצא (גם אם מופיע כבר בסעיף 3).
(5) ליד כל פריט בסעיפים 3–4:
    - תיאור קצר בשורה אחת.
(6) פירוט רחב לכל Symbol:
    - כותרת + הסבר רחב לכל function/class/component/variable רלוונטי.
(7) בתוך הפירוט הרחב חייב להופיע:
    - מה ה Symbol עושה (מפורט)
    - Parameters/props: הסבר + האם חובה (mandatory) או אופציונלי
    - Return value:
      - לפונקציות: כל אפשרויות ההחזרה
      - למחלקות: פירוט מתודות + מה הן מחזירות
      - לרכיבים: תיאור קצר של ה-UI המוחזר
    - דוגמאות קוד:
      - שימוש תקין מינימלי
      - שימוש תקין “רחב” (אם רלוונטי)
      - דוגמה לשימוש לא תקין

========================
5) KB Repository: UI + AI Access (החלטת פורמט)
========================
אני רוצה פתרון שמאפשר:
- תיעוד קריא ב-UI (אנושי)
- תיעוד מובנה וברור לסוכני AI

עליך להציע “סטנדרט” לתוכן התיעוד שיתמוך בשניהם.
לדוגמה (רק דוגמה): שילוב MDX ל-UI + frontmatter/JSON blocks/סכימה קבועה לקריאה מכונתית.
אתה צריך להחליט ולהמליץ על פורמט, מבנה, ודרך קישוריות (deep links) בין סמלים/קבצים/תלויות.

========================
6) שני סוכנים בתוך KB (Agents)
========================
אני רוצה להקים 2 סוכני AI שרצים בהקשר של KB:

Agent #1: Sync Agent
- אחראי לסנכרן KB מול שאר ה-Repos:
  - קולט שינויים שבוצעו ב-Repos אחרים
  - מעדכן את התיעוד: add/update/delete בהתאם
- עובד תמיד בענף נפרד
- בסיום פותח Pull Request ל-KB עם כל השינויים

Agent #2: Review & Merge Agent
- עושה code review ל-PR שנפתח ע"י Agent #1
- מתקן אם צריך
- מאשר ומבצע merge ל-main של KB רק אם הכל תקין

דרישה חשובה:
- אני רוצה קבצי הגדרות/הוראות נפרדים לכל סוכן (instructions/skills/commands/style/format)
  כדי שאוכל לערוך את ההתנהגות והפורמט שלהם בלי לשנות קוד.

========================
7) CI/CD בכל Repo אחר (GitHub Actions)
========================
בכל אחד מה-Repos שלי:
- יהיה GitHub Action
- ברגע שיש merge ל-branch "develop":
  - הוא ישלח ל-KB (או ל-Agent Sync) את השינויים שבוצעו
  - כדי שה-Agent יעדכן את התיעוד ב-KB

========================
8) סטאק וכלי עבודה
========================
- אני עובד עם Cursor
- GitHub בתור SCM
- KB יהיה Next.js + TypeScript

========================
9) מה אתה צריך להחזיר (Output Format)
========================
בנה לי תוכנית עבודה מלאה, כולל:
- החלטות ארכיטקטוניות מומלצות (פורמט תיעוד, מבנה תיקיות, סכימה)
- פירוק למשימות (tasks) לפי שלבים
- אבני דרך (milestones)
- חלוקת אחריות בין רכיבים (KB UI, סוכנים, GitHub Actions)
- דרישות אבטחה והרשאות מינימליות (GitHub token scopes וכד’)
- אסטרטגיית בדיקות/QA לתיעוד ולסוכנים (lint/CI/checks)
- סיכונים ופתרונות

========================
10) שאלות מקדימות חובה
========================
לפני שאתה בונה את תוכנית העבודה:
- שאל אותי את כל השאלות שאתה חייב כדי לדייק החלטות (עד 10 שאלות, הכי חשובות).
- רק אחרי שאני עונה — תבנה את תוכנית העבודה.

התחל עכשיו ברשימת השאלות.
